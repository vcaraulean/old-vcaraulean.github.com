
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Telerik's RadTabControl and Caliburn.Micro - valeriu caraulean</title>
  <meta name="author" content="Valeriu Caraulean">

  
  <meta name="description" content="NOTE: A more complete solution is available in this blog post. It contains code, examples and a NuGet package Well, again a story about having a &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://caraulean.com/blog/2010/12/11/teleriks-radtabcontrol-and-caliburn-micro/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="valeriu caraulean" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-21974825-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1>
    <a href="/">
      <div id="logoLeft">{</div>
		<div id="wrapper">
			<div id="logoText"> valeriu caraulean </div>
			
				<div id="subtitle">keep it simple, it will work...</div>
			
		</div>
      <div id="logoRight">}</div>
    </a>
  </h1>
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:caraulean.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/projects">Projects</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      
        <h1 class="entry-title">Telerik's RadTabControl and Caliburn.Micro</h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2010-12-11T02:00:54+01:00" pubdate data-updated="true">Dec 11<span>th</span>, 2010</time>
        
      </p>
    
  </header>


<div class="entry-content"><p><strong>NOTE:</strong> A more complete solution is available in <a href="/blog/2011/06/05/integration-of-caliburn-micro-and-teleriks-silverlight-controls/">this blog post</a>. It contains code, examples and a NuGet package</p>

<p>Well, again a story about having a problem, searching for a solution and finally sharing it :)</p>

<p>So, this time it’s about trying to marry the RadTabControl from Telerik’s control set with Caliburn.Micro. I’m evaluating Telerik for our pilot project in Silverlight since I would like to speed up our development process in few areas. And then we’re using happily Caliburn.Micro in it’s Silverlight flavor.</p>

<p>Scenario: a RadTabControl should contain multiple individual TabItems composed in runtime and backed each by a View Model. And it should be completely ViewModel driven.</p>

<p>Let’s start with ViewModel, as a central piece of our code:</p>

<pre><code>public class MainPageViewModel : Conductor&lt;IScreen&gt;.Collection.OneActive
{
    private readonly FirstTabItemViewModel first;
    private readonly SecondTabItemViewModel second;

    public MainPageViewModel(FirstTabItemViewModel first, SecondTabItemViewModel second)
    {
        this.first = first;
        this.second = second;
    }

    protected override void OnInitialize()
    {
        base.OnInitialize();
        Items.Add(first);
        Items.Add(second);

        ActivateItem(first);
    }
}
</code></pre>

<p>Pretty straightforward.</p>

<p>Now, we have to wrap this model in a view. In better traditions of Caliburn.Micro it’s <strong>extremely succinct and simple</strong>:</p>

<pre><code>&lt;telerik:RadTabControl x:Name="Items"&gt;
    &lt;telerik:RadTabControl.ItemTemplate&gt;
        &lt;DataTemplate&gt;
            &lt;TextBlock Text="{Binding DisplayName}" /&gt;
        &lt;/DataTemplate&gt;
    &lt;/telerik:RadTabControl.ItemTemplate&gt;
&lt;/telerik:RadTabControl&gt;
</code></pre>

<p>It looks nice, but it actually doesn’t work. Yet, Caliburn.Micro is handling this way the TabControl from WPF but that of Silverlight is horribly broken (and MS isn’t in hurry to fix it). To have it work nicely with Telerik’s Silverlight RadTabControl we have to add another convention to Caliburn to hint how he should be dealing when doing bindings for RadTabControl. The code is very similar to binding conventions for WPF’s TabControl, I’ve simply adapted it to handle new case.</p>

<p>We will be adding new convention and we should do that in our override of Configure method in our Bootstrapper. The code:</p>

<pre><code>ConventionManager
    .AddElementConvention&lt;RadTabControl&gt;(RadTabControl.ItemsSourceProperty,
                                                      "ItemsSource",
                                                      "SelectionChanged")
    .ApplyBinding = (viewModelType, path, property, element, convention) =&gt;
    {
        if (!ConventionManager.SetBinding(viewModelType, path, property, element, convention))
            return false;

        var tabControl = (RadTabControl)element;
        if (tabControl.ContentTemplate == null
            &amp;&amp; tabControl.ContentTemplateSelector == null
            &amp;&amp; property.PropertyType.IsGenericType)
        {
            var itemType = property.PropertyType.GetGenericArguments().First();
            if (!itemType.IsValueType &amp;&amp; !typeof(string).IsAssignableFrom(itemType))
                tabControl.ContentTemplate = ConventionManager.DefaultItemTemplate;
        }
        ConventionManager.ConfigureSelectedItem(element,
                                                RadTabControl.SelectedItemProperty,
                                                viewModelType,
                                                path);

        if (string.IsNullOrEmpty(tabControl.DisplayMemberPath))
            ConventionManager.ApplyHeaderTemplate(tabControl,
                                                  RadTabControl.ItemTemplateProperty,
                                                  viewModelType);
        return true;
    };
</code></pre>

<p>And <strong>it works</strong>.</p>

<p>I’ve posted complete source code with my solution on GitHub, <a href="https://github.com/vcaraulean/BlogSamples/tree/master/RadTabControlAndCaliburn">RadTabControlAndCaliburn</a>.</p>

<p><strong>Update 14/04/2011</strong>: Updated convention code to work with latest Caliburn.Micro 1.0 RTW.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Valeriu Caraulean</span></span>

      








  


<time datetime="2010-12-11T02:00:54+01:00" pubdate data-updated="true">Dec 11<span>th</span>, 2010</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/silverlight/'>silverlight</a>, <a class='category' href='/blog/categories/tools/'>tools</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://caraulean.com/blog/2010/12/11/teleriks-radtabcontrol-and-caliburn-micro/" data-via="vcaraulean" data-counturl="http://caraulean.com/blog/2010/12/11/teleriks-radtabcontrol-and-caliburn-micro/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left articlenav" href="/blog/2010/12/01/had-a-good-evening-yesterday-at-geneva-jug/" title="Previous Post: Had a good evening yesterday at Geneva JUG...">&laquo; Had a good evening yesterday at Geneva JUG...</a>
      
      
        <a class="basic-alignment right articlenav" href="/blog/2011/01/18/the-best-user-group-meeting-ive-attended-so-far-geneva-jug-on-scala-akka/" title="Next Post: The best User Group meeting I've attended so far - Geneva JUG on Scala & Akka">The best User Group meeting I've attended so far - Geneva JUG on Scala & Akka &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
	<h1>About</h1>
	<p>I'm a passionate software developer living in Geneva, Switzerland</p>
	<p><a href="/about">Read more ...</a></p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/07/15/using-caliburn-micro-with-async-await/">Using Caliburn.Micro with async/await</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/14/book-review-nosql-distilled/">Book review - NoSQL Distilled</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/15/do-less-and-achieve-more-with-ravendb/">Do less and achieve more with RavenDb</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/09/diving-deeper-in-reactive-extensions/">Diving deeper in Reactive Extensions, concurrency</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/30/hello/">Hello, new blog!</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/30/visual-studio-2012-dark-theme-tip/">Visual Studio 2012 dark theme tip - light up your UserControl in XAML designer</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/28/evening-time-time-for-fun/">Evening time, time for fun</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/21/on-motivation-a-quote/">On motivation, a quote...</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/07/19/migrating-from-silverlight-to-wpf-a-case-study/">Migrating from Silverlight to WPF, a case study</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/07/18/fearing-about-silverlights-future-dont/">Fearing about Silverlight's future? Don't...</a>
      </li>
    
  </ul>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("vcaraulean", 5, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/vcaraulean" class="twitter-follow-button" data-show-count="false">Follow @vcaraulean</a>
  
</section>



<section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/108353347632139121774?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Valeriu Caraulean -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'caraulean';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://caraulean.com/blog/2010/12/11/teleriks-radtabcontrol-and-caliburn-micro/';
        var disqus_url = 'http://caraulean.com/blog/2010/12/11/teleriks-radtabcontrol-and-caliburn-micro/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
