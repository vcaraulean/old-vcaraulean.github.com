
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>valeriu caraulean</title>
	<meta name="author" content="Valeriu Caraulean">

	
	<meta name="description" content="Apr 12th, 2010 development How to Reference Platform Specific (X86/x64) Assemblies in Visual Studio Projects Let’s say you have a third party &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="valeriu caraulean" type="application/atom+xml">
	
	<link rel="canonical" href="http://caraulean.com/blog/page/7/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><!-- Don't want the pic in header

<div class="profilepic">
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		$(function(){
			$('.profilepic').append("<img src='http://www.gravatar.com/avatar/" + MD5("") + "?s=160' alt='Profile Picture' style='width: 160px;' />");
		});
	</script>
</div>

-->

<hgroup>
  <h1>
    <a href="/"> valeriu caraulean</a>
  </h1>
</hgroup>

<p class="subtitle">keep it simple, it will work...</p>
<nav id="main-nav"><ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/projects">Projects</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
<nav id="sub-nav">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/vcaraulean" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/vcaraulean" title="GitHub">GitHub</a>
		
		
		
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2010-04-12T17:04:24+03:00" data-updated="true" itemprop="datePublished">Apr 12<span>th</span>, 2010</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/development/'>development</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2010/04/12/how-to-reference-platform-specific-x86x64-assemblies-in-visual-studio-projects/" itemprop="url">How to Reference Platform Specific (X86/x64) Assemblies in Visual Studio Projects</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Let’s say you have a third party library that you want to reference from your project. By default platform target in Visual Studio is &#8221;<strong>Any CPU</strong>&#8221;. But the library is compiled for specific target – <strong>x86</strong> or <strong>x64</strong>. When you’re working in a team, have a build server and all of them is in different platforms you’ll start to have issues. Like, project with an x64 referenced assembly working ok on your x64 machine and failing on x86 computers and so on.</p>

<p>For us it was the “<strong>System.Data.SQLite</strong>” – the <a href="http://sqlite.phxsoftware.com/">ADO.NET provider for SQLite</a>. It is provided compiled separately for 32 and 64 bit systems. It was not easy to figure out how to manage references to SQLite provider without making too much changes in our projects and build scripts.</p>

<p>I’ve found an elegant solution for it: manually modifying project files that are using it to add a conditional elements to <Project> node. Look at this code:</p>

<pre><code>  &lt;Choose&gt;
    &lt;When Condition="$(PROCESSOR_ARCHITECTURE) == 'AMD64' Or $(PROCESSOR_ARCHITEW6432) == 'AMD64'"&gt;
      &lt;ItemGroup&gt;
        &lt;Reference Include="System.Data.SQLite, Version=1.0.65.0, Culture=neutral, PublicKeyToken=db937bc2d44ff139, processorArchitecture=AMD64"&gt;
          &lt;SpecificVersion&gt;False&lt;/SpecificVersion&gt;
          &lt;HintPath&gt;..\Lib\x64\System.Data.SQLite.DLL&lt;/HintPath&gt;
        &lt;/Reference&gt;
      &lt;/ItemGroup&gt;
    &lt;/When&gt;
    &lt;Otherwise&gt;
      &lt;ItemGroup&gt;
        &lt;Reference Include="System.Data.SQLite, Version=1.0.65.0, Culture=neutral, PublicKeyToken=db937bc2d44ff139, processorArchitecture=x86"&gt;
          &lt;SpecificVersion&gt;False&lt;/SpecificVersion&gt;
          &lt;HintPath&gt;..\Lib\x86\System.Data.SQLite.DLL&lt;/HintPath&gt;
        &lt;/Reference&gt;
      &lt;/ItemGroup&gt;
    &lt;/Otherwise&gt;
  &lt;/Choose&gt;
</code></pre>

<p><code>&lt;Choose&gt; &lt;When Condition= … /&gt; &lt;Otherwise … /&gt; &lt;/Choose&gt;</code> – it’s fun how people are trying to add “behavior” to a such static thing as XML. Well, it works, sometimes…</p>

<p>Detection of the current platform is based on checking of two environment variables: PROCESSOR_ARCHITECTURE and PROCESSOR_ARCHITEW6432 to detect “bitness” of running OS/processes. Details of this you can find in the post of David Wang <a href="http://blogs.msdn.com/david.wang/archive/2006/03/26/HOWTO-Detect-Process-Bitness.aspx">HOWTO: Detect Process Bitness</a>.</p>

<p>Working like a charm for us.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2010-03-15T15:22:00+02:00" data-updated="true" itemprop="datePublished">Mar 15<span>th</span>, 2010</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2010/03/15/all-is-starting-with-a-cv/" itemprop="url">All Is Starting With a CV</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>I had to review few tens of CV lately. A very interesting pattern emerged when we looked at the CVs that were taken to next level - preliminary interviews.</p>

<p>Almost all selected CVs were well written, had little to no spelling errors (a very cheap improvement actually, why everybody isn&#8217;t using it?), structured, had clean and consistent formatting.</p>

<p>Programming, like many other human activities, is all about communication: talking within your team, interacting with the clients and the most important - writing down your ideas using your favorite programming language.</p>

<p>When somebody is writing a CV I hope he wants to say something. And we&#8217;re ready to listen to everyone who can describe in clean and short manner his achievements, explain clearly his goals, expose himself efficiently and maybe entertain us with a story. In this case, there is a big chance that he will be able to write (for example) the code to export an hierarchical data structure in few output formats using Visitor pattern.</p>

<p>Yes, peer recommendations are still an important channel to get fresh blood, but in any case - &#8220;all is starting with a CV&#8221;.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2010-02-08T00:19:21+02:00" data-updated="true" itemprop="datePublished">Feb 8<span>th</span>, 2010</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/general/'>general</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2010/02/08/software-quality-for-everyone/" itemprop="url">Software Quality for Everyone</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Have just read another definition of what is software quality on Jeremy D. Miller’s blog:</p>

<blockquote><p>defining software quality as the structural qualities of code structure that enable a team to be productive within that codebase for an extended amount of time</p></blockquote>

<p>Jeremy is writing on how to achieve the quality in: <a href="http://codebetter.com/blogs/jeremy.miller/archive/2010/01/11/patterns-in-practice-a-retrospective.aspx">Patterns in Practice: A Retrospective</a>. For those who cares about the quality of the software you’re building you have to go over the series of the articles that Jeremy has written for MSDN Magazine.</p>

<p>If you want to be a better developer you may not have enough time to read ~10 books, watch screen casts, attend presentations or conferences, buy costly tools and courses. The cheapest was is just take a half an hour each day over a week and go read those publications. And think about it&#8230;</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2010-01-31T17:01:15+02:00" data-updated="true" itemprop="datePublished">Jan 31<span>st</span>, 2010</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/community/'>community</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2010/01/31/have-been-in-the-aliens-camp-twice/" itemprop="url">Have Been in the Aliens Camp. Twice&#8230;</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Recently, in my desire to learn something new and get closer to local community of software developers, I have visited few meetings of <a href="http://www.jugl.ch/">Java User Group in Lausanne</a>. You may ask, what can attract a .NET developer in Java community? For me it was mainly the themes what were discussed. First one I’ve attended was about Groovy and Grails – new dynamic language and a framework that are running on JVM. The second was a nice session about <a href="http://www.scala-lang.org/">Scala</a> – static, OO programming language that also integrates nicely some features from functional programming world.</p>

<p>So, sessions I’ve attended wasn’t really about Java, but about new programming languages. I’ve read somewhere, that in order to be a better programmer you have to learn a new language every year. Well, honestly, I’m not sure that I’d be able to learn new language that doesn’t fits in my tool belt and it’s not used daily. So, I’ve considered that the least I can do is familiarize, even superficially, with new programming languages and concepts.</p>

<p>I enjoyed very much both presentations.</p>

<p>I’m not sold over dynamic languages yet. I’m not sure it will work in a big, “enterprisey” project. But may be it’s because I don’t have any experience using it.</p>

<p>But I liked very much some concepts from Scala – mixins, traits and few other things are just mind blowing! The language is very clean and concise.</p>

<p>But, even without some of these features backed in .NET/C#, I think that development platform from Microsoft offers more for an “average” software developer. Productivity, tooling support, training. It’s only because MS has more resources to do it&#8230;</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2010-01-25T23:52:21+02:00" data-updated="true" itemprop="datePublished">Jan 25<span>th</span>, 2010</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/ui-ux/'>ui-ux</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2010/01/25/intro-to-usability/" itemprop="url">Intro to Usability</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>I just finished watching a <a href="http://blip.tv/file/1557737">video about basics of Usability</a>. Before, I’ve read few articles and blog posts on the topic , but this video gives a nice introduction in Usability basics and Usability Testing so that I’ll save it in the blog. The speaker is Steve Krug, author of “Don’t make me think”, book sitting in my “to be read” list and just moved higher in the queue.</p>

<p>The thing I liked the most is how “cheap” are usability improvements. Change the caption of the button, remove that cryptic description, move important things higher and hide functions being rarely used.</p>

<p>And test it. Iteratively. It’s agile on it’s better form – pick a user or two and just let them do something useful in your app. Notice errors, fix it.</p>

<p>And test it, again&#8230;</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2009-12-21T16:05:10+02:00" data-updated="true" itemprop="datePublished">Dec 21<span>st</span>, 2009</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/nhibernate/'>nhibernate</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2009/12/21/nhibernate-3-0-will-be-a-very-nice-release/" itemprop="url">NHibernate 3.0 Will Be a Very Nice Release</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>First of all, <a href="http://blogs.imeta.co.uk/sstrong/Default.aspx">Steve Strong</a> made a Christmas gift to community by presenting a <a href="http://nhforge.org/blogs/nhibernate/archive/2009/12/17/linq-to-nhibernate-progress-report-a-christmas-gift.aspx">new Linq implementation</a> for <a href="http://nhforge.org/">NHibernate</a>, which is now incorporated in the trunk. Kudos for a such great work!</p>

<p>Another valuable addition to NHibernate is the <a href="http://nhforge.org/blogs/nhibernate/archive/2009/12/17/queryover-in-nh-3-0.aspx">QueryOver<T> API</a> that wrapped ICriteria API and made it easier to use. Thanks to <a href="http://broloco.blogspot.com/">Richard Brown</a>.</p>

<p>Both features are not crucial for the success of NHibernate, but they are very nice improvements that will attract new users and will keep the old ones. It&#8217;s easier to advocate for NHibernate when you can point not only at his advanced features. The hype around Linq makes difference when features are compared. Having a provider for NHibernate will be a strong decision argument.</p>

<p>I hope that soon after New Year&#8217;s holidays I&#8217;ll try to switch to NHibernate 3.0. If migration of our project will be painless and all tests will still green, I think we&#8217;ll run with the trunk. It&#8217;s the least we can do to help make this project better.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2009-12-03T00:26:39+02:00" data-updated="true" itemprop="datePublished">Dec 3<span>rd</span>, 2009</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/wpf/'>wpf</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2009/12/03/wpf-lob-samples/" itemprop="url">WPF LOB Samples</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>&#8230; more a note for myself</p>

<p>Found a discussion that gives a few very nice examples of WPF applied in real world, line-of-business applications: <a href="http://groups.google.com/group/wpf-disciples/browse_thread/thread/194800c0415afcba/034ce451669f0a7f">WPF LOB samples</a>.</p>

<p>I can&#8217;t stop be amazed by what degree of flexibility WPF is giving to designers and application developers. Having an artistic sense and willingness to create &#8220;something&#8221; you can do really nice, usable &amp; nice looking applications.</p>

<p><strong>Update</strong>: reviewed some of my notes, found another great LOB sample, not listed in previous discussion: <a href="http://blogs.msdn.com/brada/archive/2008/07/07/great-user-experience-example-in-a-business-application.aspx">Great User Experience Example in a Business Application</a>.</p>

<p><strong>Update</strong>: Seen on <a href="http://davybrion.com/blog/">Davy Brion</a>&#8217;s blog: <a href="http://www.itemsolutions.com/products/products2/interfaces">How should your business applications look like</a>. Few very interesting ideas there.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2009-11-26T15:36:04+02:00" data-updated="true" itemprop="datePublished">Nov 26<span>th</span>, 2009</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/community/'>community</a>, <a class='category' href='/blog/categories/wpf/'>wpf</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2009/11/26/alt-net-swiss-community-its-running/" itemprop="url">ALT.NET Swiss Community - It&#8217;s Running!</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Yesterday I have participated at my second meeting of <a href="http://altdotnet.org/">ALT.NET</a> community in Switzerland. The <a href="http://www.altdotnet.ch/">ALT.NET Swiss group</a> was running for some time, but I&#8217;ve discovered it recently, after being contacted by Frédéric SCHÄFER from <a href="http://www.octo.com">OCTO Technology</a>. He started the group and has been organizing meetings in Lausanne and Geneva. Many thanks Frédéric and keep up a good job!</p>

<p>First meeting I attended was about WPF and Model-View-ViewModel pattern implementation. It was held by Frédéric SCHÄFER. He took a simple WPF application and slowly modified it to use MVVM pattern. That got us better separation of concerns and maid application more testable.</p>

<p><a href="http://www.altnetfr.org/2009/11/19/alt-net-suisse-5-wpfmvvm-geneve/">The yesterday&#8217;s meeting</a> was for me a special one, I was one of the speakers.</p>

<p>I&#8217;ve talked briefly about how the MVVM pattern is used with WPF, showed a &#8220;classical&#8221; implementation of it and after that presented some improvements over that. The initial ViewModel had INotifyPropertyChanged implemented and used ICommand to respond to UI actions initiated by view. For two properties and a command there was a lot of &#8220;ceremony&#8221; - code being there just to comply with implementation requirements. At the end of the session, by using two frameworks(<a href="http://bltoolkit.net/">BLToolkit</a> and <a href="http://caliburn.codeplex.com/">Caliburn</a>) , I&#8217;ve managed to reduce the volume of the code by the half while maintaining initial functionality. Why is this important? Shorter code means less place to make a mistake, hide a bug, it&#8217;s faster to read and understand. I will write a separate blog post about my solution.</p>

<p>The other speaker was <a href="http://danielvaughan.orpius.com/">Daniel Vaughan</a>, the author of <a href="http://www.calciumsdk.net/">Calcium SDK</a>. He spoke about Calcium SDK, which is a set of additional services and modules built on top of the Prism (Composite WPF) and few Visual Studio templates to make creation of composite application easier. After that, he talked about compile time validation of WPF&#8217;s binding expressions. This, being a real headache for WPF developers, was addressed by Daniel by using template engine backed into Visual Studio - T4. <a href="http://www.codeproject.com/KB/codegen/T4Metadata.aspx">His solution</a> is very interesting. He generates some metadata classes with static properties and after that uses them in binding expressions. I&#8217;m still not sold on the whole idea, but I should spend some time playing with it. But presentation was nice, thanks Daniel!</p>

<p>It was a great evening. It&#8217;s always interesting to meet people with different set of skills and experience, you can look at known problems from other angles, getting suggestions or criticism. Or you just can learn something new.</p>

<p>Special thanks to <a href="http://www.raboof.com/">Atif Aziz</a> and <a href="http://www.cargill.com/worldwide/switzerland/index.jsp">Cargill International SA</a> for hosting the session.</p>

<p>Update: <a href="http://github.com/vcaraulean/Demo.MVVM">published the code on GitHub</a>.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2009-09-02T11:49:02+03:00" data-updated="true" itemprop="datePublished">Sep 2<span>nd</span>, 2009</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/nhibernate/'>nhibernate</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2009/09/02/clean-code-register-additional-event-listeners-in-nhibernate/" itemprop="url">Clean Code: Register Additional Event Listeners in NHibernate</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>&#8220;why is this a problem?&#8221; may ask you&#8230;</p>

<p>Let&#8217;s review the ways that <a href="http://nhforge.org/">NHibernate</a> lets you register your own event listeners. You can do it in configuration file:</p>

<pre><code>&lt;listener class="NHTest.Listeners.CustomSaveEventListener, NHTest" type="save" /&gt;
</code></pre>

<p>&#8230; or in code:</p>

<pre><code>Configuration cfg = new Configuration();  
cfg.EventListeners.SaveEventListeners =   
new ISaveOrUpdateEventListener[] {new CustomSaveEventListener() };  
</code></pre>

<p>Nice, so far&#8230;</p>

<p>It&#8217;s not if you want to <strong>add</strong> a listener, not to replace them. Both registrations are just replacing default event listeners with your own implementations. Very often it&#8217;s not want you want!</p>

<p>In our case, we want default listeners do the job and just add few our own listeners to run the business. No problem, let&#8217;s code:</p>

<pre><code>var listeners = configuration.EventListeners;
listeners.SaveEventListeners = 
    new List&lt;ISaveOrUpdateEventListener&gt;(listeners.SaveEventListeners)
    {new CustomSaveEventListener()}
    .ToArray();
</code></pre>

<p>Since I wrote that code some day I hated it. Too verbose, too obscure, hard to read &amp; understand. But event registration infrastructure doesn&#8217;t offer an easy and simple way to add a listener. Few times I tried to come with a nice solution for that, even tried to modify NH&#8217;s code.</p>

<p>Today, I&#8217;ve done it:</p>

<pre><code>configuration.AddListener(el =&gt; el.SaveEventListeners, new CustomSaveEventListener());
</code></pre>

<p>Some expression&#8217;s magic and we end up with a very <strong>clean &amp; readable code</strong>.</p>

<p>Implementation:</p>

<pre><code>public static class NHibernateConfigurationExtensions
{
    public static void AddListener&lt;TListener&gt;(
        this Configuration configuration, 
        Expression&lt;Func&lt;EventListeners, TListener[]&gt;&gt; expression, 
        TListener listenerImpl)
    {
        var propertyInfo = ReflectionHelper.GetProperty(expression);
        var existentListeners = (TListener[]) propertyInfo.GetValue(configuration.EventListeners, null);
        var newListeners = new List&lt;TListener&gt;(existentListeners) { listenerImpl }.ToArray();
        propertyInfo.SetValue(configuration.EventListeners, newListeners, null);
    }

    public static void AddListeners&lt;TListener&gt;(
        this Configuration configuration, 
        Expression&lt;Func&lt;EventListeners, TListener[]&gt;&gt; expression, 
        IEnumerable&lt;TListener&gt; listeners)
    {
        foreach (var listener in listeners)
        {
            configuration.AddListener(expression, listener);
        }
    }
}    
</code></pre>

<p>Have a nice day&#8230;</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2009-07-15T19:04:12+03:00" data-updated="true" itemprop="datePublished">Jul 15<span>th</span>, 2009</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/wpf/'>wpf</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2009/07/15/wpf-niceties-collection-grouping-in-viewmodel/" itemprop="url">WPF Niceties. Collection Grouping in ViewModel</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Having to group a collection shown in UI by a command fired from the View, I&#8217;ve came to a nice solution by writing an extension method to the <code>ObservableCollection&lt;T&gt;</code> class.</p>

<p>The extension method:</p>

<pre><code>public static class ObservableCollectionExtensions
{
    public static void VisualGroupingBy&lt;T&gt;(this ObservableCollection&lt;T&gt; collection,
                                           Expression&lt;Func&lt;T, object&gt;&gt; groupByExpresson)
    {
        var view = CollectionViewSource.GetDefaultView(collection);
        collection.VisualGroupingClear();

        var propertyName = ReflectionHelper.GetPropertyName(groupByExpresson);

        view.GroupDescriptions.Add(new PropertyGroupDescription(propertyName));
    }

    public static void VisualGroupingClear&lt;T&gt;(this ObservableCollection&lt;T&gt; collection)
    {
        var view = CollectionViewSource.GetDefaultView(collection);
        view.GroupDescriptions.Clear();
    }
}
</code></pre>

<p>How to use it:</p>

<pre><code>public ObservableCollection&lt;Address&gt; Addresses { get; set; }
public void GroupAddressesByCity()
{
    Addresses.VisualGroupingBy(address =&gt; address.City);
}
</code></pre>

<p>Clean, no magic strings, readable&#8230;</p>

		
		
	</div>

</article>

</div>
<nav id="pagenavi">
    
        <a href="/blog/page/6/" class="prev">Prev</a>
    
    
        <a href="/blog/page/8/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
			</div>
			<footer id="footer" class="inner"><p>
  Copyright &copy; 2013 - Valeriu Caraulean -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'caraulean';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-21974825-3']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>




		</div>
	</div>
</body>
</html>
